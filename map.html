<!DOCTYPE html>
<html>

<head>
    <title>Simple Map</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="DPY1mP4M7-dVmCrGmkYVUs2UD0GcDVR-f9vdubVs30g" />
    <link rel="stylesheet" href="./assets/style.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDiRFL7NTJFlRBr3YzrL_xH1Et3CYmHB_Q&callback=initMap&libraries=&v=weekly"
        defer></script>
    <style type="text/css">
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
        #map {
            height: 100%;
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
    <script>
        (function (exports) {
            "use strict";

            function initMap() {
                exports.map = new google.maps.Map(document.getElementById("map"), {
                    center: {
                        lat: -34.397,
                        lng: 150.644
                    },
                    zoom: 8
                });
            }

            exports.initMap = initMap;
        })((this.window = this.window || {}));
    </script>
</head>

<body>
    <div id="map"></div>
    <script>

        // create an object
        var galArr = [
            {
                name: "Harvard Art Museum",
                lat: "42.3740937",
                lng: "-71.1165522"
            },
            {
                name: "Metropolitan Museum of Art",
                lat: "40.7794406",
                lng: "-73.965438"
            },
        ]

        //create a loop for object elements
        for (let i = 0; i < galArr.length; i++) {
            function initMap() {
                var myLatlng = { lat: galArr[i].lat, lng: galArr[i].lng };
                var myLatlng = new google.maps.LatLng(galArr[i].lat, galArr[i].lng);
                var mapOptions = {
                    zoom: 4,
                    center: myLatlng
                }
                var map = new google.maps.Map(document.getElementById("map"), mapOptions);

                var marker = new google.maps.Marker({
                    position: myLatlng,
                    title: "Hello World!"
                });

                // To add the marker to the map, call setMap();
                marker.setMap(map);

                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 4,
                    center: myLatlng
                });

                var marker = new google.maps.Marker({
                    position: myLatlng,
                    map: map,
                    title: 'Click to zoom'
                });

                map.addListener('center_changed', function () {
                    // 3 seconds after the center of the map has changed, pan back to the
                    // marker.
                    window.setTimeout(function () {
                        map.panTo(marker.getPosition());
                    }, 3000);
                });

                marker.addListener('click', function () {
                    map.setZoom(8);
                    map.setCenter(marker.getPosition());
                });
            }
        }
    </script>
    <script src="./assets/script.js"></script>
</body>

</html>